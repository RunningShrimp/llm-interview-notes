<!DOCTYPE html>
<html lang="{{ site.lang | default: 'zh-CN' }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
  
  <meta name="description" content="{{ page.description | default: site.description }}">
  <meta name="author" content="{{ site.author }}">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  <meta property="og:title" content="{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}">
  <meta property="og:description" content="{{ page.description | default: site.description }}">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="{{ page.url | absolute_url }}">
  <meta property="twitter:title" content="{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}">
  <meta property="twitter:description" content="{{ page.description | default: site.description }}">
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="{{ '/favicon.png' | relative_url }}" onerror="this.onerror=null; this.remove();">
  
  <!-- SEO Plugin -->
  {% seo %}
  
  <!-- Feed -->
  {% feed_meta %}
  
  <!-- Additional head content -->
  {% if page.extra_css %}
    {% for css in page.extra_css %}
      <link rel="stylesheet" href="{{ css | relative_url }}">
    {% endfor %}
  {% endif %}
</head>
<body>
  <!-- Skip to main content for accessibility -->
  <a href="#main-content" class="visually-hidden">è·³è½¬åˆ°ä¸»è¦å†…å®¹</a>
  
  <!-- Top Navigation Bar -->
  <nav class="top-nav" role="navigation" aria-label="ä¸»å¯¼èˆª">
    <a href="{{ '/' | relative_url }}" class="site-title">{{ site.title }}</a>
    <div class="nav-controls">
      <button class="theme-toggle" aria-label="åˆ‡æ¢ä¸»é¢˜" title="åˆ‡æ¢æ˜æš—ä¸»é¢˜ (æŒ‰ t é”®)">ğŸŒ™</button>
    </div>
  </nav>
  
  <!-- Page Wrapper -->
  <div class="page-wrapper">
    <!-- Left Sidebar for TOC -->
    <aside class="sidebar" role="complementary" aria-label="ç›®å½•å¯¼èˆª">
      <h3>ç›®å½•å¯¼èˆª</h3>
      <nav>
        <ul class="toc-list">
          <!-- TOC will be generated by JavaScript -->
        </ul>
      </nav>
    </aside>
    
    <!-- Main Content -->
    <main class="main-content" id="main-content" role="main">
      {{ content }}
    </main>
  </div>
  
  <!-- Back to Top Button -->
  <button class="back-to-top" aria-label="è¿”å›é¡¶éƒ¨" title="è¿”å›é¡¶éƒ¨ (æŒ‰ ESC é”®)">
    â†‘
  </button>
  
  <!-- JavaScript -->
  <script src="{{ '/assets/js/main.js' | relative_url }}"></script>
  
  <!-- Additional scripts -->
  {% if page.extra_js %}
    {% for js in page.extra_js %}
      <script src="{{ js | relative_url }}"></script>
    {% endfor %}
  {% endif %}
  
  <!-- Google Analytics or other tracking (if configured) -->
  {% if site.google_analytics %}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '{{ site.google_analytics }}');
    </script>
  {% endif %}
</body>
</html>
